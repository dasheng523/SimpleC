# 数据结构与动态存储
valgrind可以管理内存。

## 如何创建链表
### 递归结构
如果一个结构包含一个链向同种结构的链接，那么这个结构就称为递归结构。
````
typedef struct island { //必须指定名字
  char *name;   //字符串指针
  char *opens;
  char *closes;
  struct island *next;  //指向下一个岛
} island;
````

### 用堆进行动态存储
目前大部分存储器都在栈上。栈是存储器用来保存局部变量的区域。数据保存在局部变量中，一旦离开函数，变量就消失。堆是程序中用来保存长期使用数据的地方。堆上的数据不会自动清除。

### 使用
````
#include <stdlib.h>   //需要用到这个头文件

island *p = malloc(sizeof(island));   //申请空间，参数是数字，占用多少字节。

free(p);
````

### strup函数
这个函数用来将字符串复制到堆上。入参是指针。

### valgrind
1. 它可以检查存储器泄漏。
2. 它通过拦截对malloc()和free()的调用来工作。
3. 程序在停止运行时，valgrind会打印留在堆上数据的详细信息。
4. 编译代码时，如果在可执行文件中加上调试信息，valgrind可以提供更多信息。
5. 多次运行程序，可以缩小泄漏的范围。
6. 它可以告诉你源代码哪行代码把数据放在堆上。
7. 它可以检验泄漏是否已修复。
